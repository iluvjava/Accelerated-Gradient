include("abstract_types.jl")
include("non_smooth_fxns.jl")
include("smooth_fxn.jl")
include("proximal_gradient.jl")


using Test, LinearAlgebra

@testset "Test Set 1" begin 
    # sanity test 
    @test true

    function basicISTATest1()
        # just throw assertion error if something went wrong with the numerics of the algorithm. 
        # this function go through the ISTA algorithm with different setting as a run through of stuff
        # from most part of the code base. 
        @info "Testing: basicISTATest1"
        n = 3
        A = Diagonal(LinRange(0, 1, n))
        b = ones(n)
        f = SquareNormResidual(A, b)     
        g = MAbs(0.1)
        x0 = zeros(n)
        results = ista(f, g, x0)
        
        if results.flag != 0
            return false
        end
        report_results(results)

        return true # runned without obvious issue. 
    end
    


    @test basicISTATest1()
end